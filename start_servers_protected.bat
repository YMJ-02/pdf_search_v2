@echo off
chcp 65001 >nul
title PDF Search System - ì„œë²„ ì‹œìž‘ ì¤‘... (ì´ ì°½ì„ ë‹«ì§€ ë§ˆì„¸ìš”!)
color 0A

echo.
echo    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo    â•‘              PDF Search System                       â•‘
echo    â•‘                  ì„œë²„ ì‹œìž‘ ì¤‘...                      â•‘
echo    â•‘                                                      â•‘
echo    â•‘    âš ï¸  ì£¼ì˜: ì´ ì°½ì„ ë‹«ìœ¼ë©´ ì„œë²„ê°€ ì¤‘ë‹¨ë©ë‹ˆë‹¤!          â•‘
echo    â•‘                                                      â•‘
echo    â•‘    ì„œë²„ê°€ ì‹œìž‘ëœ í›„ ìµœì†Œí™”í•´ì„œ ì‚¬ìš©í•˜ì„¸ìš”             â•‘
echo    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo [1/3] ë°±ì—”ë“œ ì„œë²„ ì‹œìž‘ ì¤‘...
pushd "%~dp0backend" >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!
    pause
    exit /b 1
)

start "PDF Search Backend - ë‹«ì§€ ë§ˆì„¸ìš”!" /min cmd /c "call ""venv\Scripts\activate.bat"" && echo ë°±ì—”ë“œ ì„œë²„ê°€ ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤. && echo ì´ ì°½ì„ ë‹«ìœ¼ë©´ ì„œë²„ê°€ ì¤‘ë‹¨ë©ë‹ˆë‹¤! && python app.py"
popd

echo âœ… ë°±ì—”ë“œ ì„œë²„ ì‹œìž‘ë¨
echo.
echo [2/3] ë°±ì—”ë“œ ì´ˆê¸°í™” ëŒ€ê¸° ì¤‘... (10ì´ˆ)
timeout /t 10 /nobreak >nul

echo [3/3] í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹œìž‘ ì¤‘...
pushd "%~dp0frontend" >nul 2>&1
if %errorlevel% neq 0 (
    echo âŒ í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í† ë¦¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!
    pause
    exit /b 1
)

start "PDF Search Frontend - ë‹«ì§€ ë§ˆì„¸ìš”!" /min cmd /c "echo í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ê°€ ì‹œìž‘ë˜ì—ˆìŠµë‹ˆë‹¤. && echo ì´ ì°½ì„ ë‹«ìœ¼ë©´ ì„œë²„ê°€ ì¤‘ë‹¨ë©ë‹ˆë‹¤! && npm run dev"
popd

echo âœ… í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹œìž‘ë¨
echo.
title PDF Search System - ì‹¤í–‰ ì¤‘ (ìµœì†Œí™” ê¶Œìž¥)
color 0B

echo    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo    â•‘              âœ… ì„œë²„ ì‹œìž‘ ì™„ë£Œ!                       â•‘
echo    â•‘                                                      â•‘
echo    â•‘    ðŸŒ ì›¹ì‚¬ì´íŠ¸: http://localhost:5173                â•‘
echo    â•‘    ðŸ“¡ API: http://localhost:5001                     â•‘
echo    â•‘                                                      â•‘
echo    â•‘    ë„¤íŠ¸ì›Œí¬ ì ‘ì†:                                     â•‘
echo    â•‘    ðŸŒ http://[ì»´í“¨í„°IP]:5173                         â•‘
echo    â•‘    ðŸ“¡ http://[ì»´í“¨í„°IP]:5001                         â•‘
echo    â•‘                                                      â•‘
echo    â•‘    ðŸ’¡ íŒ: ì´ ì°½ì„ ìµœì†Œí™”í•˜ê³  ì‚¬ìš©í•˜ì„¸ìš”              â•‘
echo    â•‘    âš ï¸  ì£¼ì˜: ì´ ì°½ì„ ë‹«ìœ¼ë©´ ì„œë²„ê°€ ì¤‘ë‹¨ë©ë‹ˆë‹¤!        â•‘
echo    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

echo ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ìž…ë‹ˆë‹¤...
echo ì¢…ë£Œí•˜ë ¤ë©´ Ctrl+Cë¥¼ ëˆ„ë¥´ê±°ë‚˜ ì°½ì„ ë‹«ìœ¼ì„¸ìš”.
echo.

:loop
timeout /t 3600 /nobreak >nul
goto loop